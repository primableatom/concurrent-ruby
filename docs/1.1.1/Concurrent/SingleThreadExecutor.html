<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Concurrent::SingleThreadExecutor
  
    &mdash; Concurrent Ruby
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Concurrent::SingleThreadExecutor";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Concurrent.html" title="Concurrent (module)">Concurrent</a></span></span>
     &raquo; 
    <span class="title">SingleThreadExecutor</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Concurrent::SingleThreadExecutor
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'>SingleThreadExecutorImplementation</span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Concurrent::SingleThreadExecutor</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/concurrent/executor/single_thread_executor.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>A thread pool with a single thread an unlimited queue. Should the thread
die for any reason it will be removed and replaced, thus ensuring that
the executor will always remain viable and available to process jobs.</p>

<p>A common pattern for background processing is to create a single thread
on which an infinite loop is run. The thread&#39;s loop blocks on an input
source (perhaps blocking I/O or a queue) and processes each input as it
is received. This pattern has several issues. The thread itself is highly
susceptible to errors during processing. Also, the thread itself must be
constantly monitored and restarted should it die. <code>SingleThreadExecutor</code>
encapsulates all these bahaviors. The task processor is highly resilient
to errors from within tasks. Also, should the thread die it will
automatically be restarted.</p>

<p>The API and behavior of this class are based on Java&#39;s <code>SingleThreadExecutor</code>.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#fallback_policy-instance_method" title="#fallback_policy (instance method)">#<strong>fallback_policy</strong>  &#x21d2; Symbol </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The fallback policy in effect.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#<<-instance_method" title="#&lt;&lt; (instance method)">#<strong>&lt;&lt;</strong>(task)  &#x21d2; self </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Submit a task to the executor for asynchronous processing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#auto_terminate=-instance_method" title="#auto_terminate= (instance method)">#<strong>auto_terminate=</strong>(value)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set the auto-terminate behavior for this executor.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#auto_terminate%3F-instance_method" title="#auto_terminate? (instance method)">#<strong>auto_terminate?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Is the executor auto-terminate when the application exits?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_overflow%3F-instance_method" title="#can_overflow? (instance method)">#<strong>can_overflow?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Does the task queue have a maximum size?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(opts = {})  &#x21d2; undocumented </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a new thread pool.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#kill-instance_method" title="#kill (instance method)">#<strong>kill</strong>  &#x21d2; undocumented </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Begin an immediate shutdown.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#post-instance_method" title="#post (instance method)">#<strong>post</strong>(*args) { ... } &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Submit a task to the executor for asynchronous processing.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#running%3F-instance_method" title="#running? (instance method)">#<strong>running?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Is the executor running?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#serialized%3F-instance_method" title="#serialized? (instance method)">#<strong>serialized?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Does this executor guarantee serialization of its operations?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shutdown-instance_method" title="#shutdown (instance method)">#<strong>shutdown</strong>  &#x21d2; undocumented </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Begin an orderly shutdown.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shutdown%3F-instance_method" title="#shutdown? (instance method)">#<strong>shutdown?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Is the executor shutdown?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#shuttingdown%3F-instance_method" title="#shuttingdown? (instance method)">#<strong>shuttingdown?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Is the executor shuttingdown?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wait_for_termination-instance_method" title="#wait_for_termination (instance method)">#<strong>wait_for_termination</strong>(timeout = nil)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Block until executor shutdown is complete or until <code>timeout</code> seconds have passed.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(opts = {})  &#x21d2; <tt>undocumented</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create a new thread pool.</p>


  </div>
</div>
<div class="tags">
  
  
    
    
    <p class="tag_title">Options Hash (<tt>opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:fallback_policy</span>
          <span class="type">(<tt>Symbol</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>:discard</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>the policy for handling new
tasks that are received when the queue size has reached
<code>max_queue</code> or the executor has shut down</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if <code>:fallback_policy</code> is not one of the values specified
in <code>FALLBACK_POLICIES</code></p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html" target="_parent" title="http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html">http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html</a></li>
    
      <li><a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html" target="_parent" title="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html">http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html</a></li>
    
      <li><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html" target="_parent" title="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html">http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 55</span>

</pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="fallback_policy-instance_method">
  
    #<strong>fallback_policy</strong>  &#x21d2; <tt>Symbol</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns The fallback policy in effect. Either <code>:abort</code>, <code>:discard</code>, or <code>:caller_runs</code>.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The fallback policy in effect. Either <code>:abort</code>, <code>:discard</code>, or <code>:caller_runs</code>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="<<-instance_method">
  
    #<strong>&lt;&lt;</strong>(task)  &#x21d2; <tt>self</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Submit a task to the executor for asynchronous processing.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>task</span>
      
      
        <span class='type'>(<tt>Proc</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the asynchronous task to perform</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>returns itself</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="auto_terminate=-instance_method">
  
    #<strong>auto_terminate=</strong>(value)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Set the auto-terminate behavior for this executor.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>value</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The new auto-terminate value to set for this executor.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><code>true</code> when auto-termination is enabled else <code>false</code>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="auto_terminate?-instance_method">
  
    #<strong>auto_terminate?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Is the executor auto-terminate when the application exits?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><code>true</code> when auto-termination is enabled else <code>false</code>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="can_overflow?-instance_method">
  
    #<strong>can_overflow?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Does the task queue have a maximum size?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>True if the task queue has a maximum size else false.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="kill-instance_method">
  
    #<strong>kill</strong>  &#x21d2; <tt>undocumented</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Begin an immediate shutdown. In-progress tasks will be allowed to
complete but enqueued tasks will be dismissed and no new tasks
will be accepted. Has no additional effect if the thread pool is
not running.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="post-instance_method">
  
    #<strong>post</strong>(*args) { ... } &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Submit a task to the executor for asynchronous processing.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Array.html" title="Concurrent::Array (class)">Array</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>zero or more arguments to be passed to the task</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><p>the asynchronous task to perform</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><code>true</code> if the task is queued, <code>false</code> if the executor
is not running</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if no task is given</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="running?-instance_method">
  
    #<strong>running?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Is the executor running?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><code>true</code> when running, <code>false</code> when shutting down or shutdown</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="serialized?-instance_method">
  
    #<strong>serialized?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Does this executor guarantee serialization of its operations?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>True if the executor guarantees that all operations
will be post in the order they are received and no two operations may
occur simultaneously. Else false.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shutdown-instance_method">
  
    #<strong>shutdown</strong>  &#x21d2; <tt>undocumented</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Begin an orderly shutdown. Tasks already in the queue will be executed,
but no new tasks will be accepted. Has no additional effect if the
thread pool is not running.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shutdown?-instance_method">
  
    #<strong>shutdown?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Is the executor shutdown?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><code>true</code> when shutdown, <code>false</code> when shutting down or running</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="shuttingdown?-instance_method">
  
    #<strong>shuttingdown?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Is the executor shuttingdown?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><code>true</code> when not running and not shutdown, else <code>false</code></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="wait_for_termination-instance_method">
  
    #<strong>wait_for_termination</strong>(timeout = nil)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>Does not initiate shutdown or termination. Either <code>shutdown</code> or <code>kill</code>
must be called before this method (or on another thread).</p>
</div>
  </div>

<p>Block until executor shutdown is complete or until <code>timeout</code> seconds have
passed.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>timeout</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>the maximum number of seconds to wait for shutdown to complete</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p><code>true</code> if shutdown complete or false on <code>timeout</code></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/concurrent/executor/single_thread_executor.rb', line 36</span>

<span class='kw'>class</span> <span class='const'><span class='object_link'><a href="" title="Concurrent::SingleThreadExecutor (class)">SingleThreadExecutor</a></span></span> <span class='op'>&lt;</span> <span class='const'>SingleThreadExecutorImplementation</span>

  <span class='comment'># @!macro single_thread_executor_method_initialize
</span>  <span class='comment'>#
</span>  <span class='comment'>#   Create a new thread pool.
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @option opts [Symbol] :fallback_policy (:discard) the policy for handling new
</span>  <span class='comment'>#     tasks that are received when the queue size has reached
</span>  <span class='comment'>#     `max_queue` or the executor has shut down
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @raise [ArgumentError] if `:fallback_policy` is not one of the values specified
</span>  <span class='comment'>#     in `FALLBACK_POLICIES`
</span>  <span class='comment'>#
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html
</span>  <span class='comment'>#   @see http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html
</span>
  <span class='comment'># @!method initialize(opts = {})
</span>  <span class='comment'>#   @!macro single_thread_executor_method_initialize
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_blank">yard</a>.
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57940973-1', 'auto');
  ga('send', 'pageview');

</script>

    </div>
  </body>
</html>